---
title: "AI時代のコードレビュー ― 何を見るべきか、何は見なくてよくなったか"
emoji: "👀"
type: "tech"
topics:
  - "codereview"
  - "ai"
  - "ddd"
  - "teamwork"
published: false
publication_name: "pivotmedia"
---

こんにちは。PIVOTでソフトウェアエンジニアをしている[@tawachan](https://x.com/tawachan39)です。

AIの進化は、私たちの開発プロセス全体を大きく変えつつあります。大局的に見れば、プロジェクトの進め方そのものを見直すことが重要です。実際、私たちのチームでもスクラムからカンバンへ移行するといった大きな変化がありました。その話は以前の記事「[スクラムからカンバンへの移行——ソフトウェアエンジニアがマネージャーになる時代に](https://zenn.dev/pivotmedia/articles/engineer-as-manager-scrum-to-kanban)」で詳しく解説しています。

しかし今回は、あえてその大きな話から視点を移し、**コードレビューという日々の細かいプラクティス**に焦点を当てたいと思います。今年1年、AIを使い倒す中で「レビューで見るべきものが明確に変わったな」という個人的な感覚があり、その変化を言語化してみたいと考えたからです。

この記事では、AIが前提となった開発フローにおいて、コードレビューで**「何を見るべきか、そして何を見なくてよくなったか」**を、私の実感ベースで解説します。

## AIが変えたコードレビューの常識

AIコーディング支援が普及する前、コードレビューは品質を担保するための「最後の砦」でした。しかし、今やその役割は大きく変わりつつあります。

### 見なくてよくなったこと：実装の細部

かつてレビューで多くの時間を費やしていた、以下のような実装の詳細に関する指摘は、その多くをAIに任せられるようになりました。

- **タイポ、構文エラー、参照ミス**: これらはAIがリアルタイムで検出・修正します。
- **コーディングスタイル**: フォーマッターやリンターが自動で修正し、AIもそれに従います。
- **典型的なパフォーマンス問題**: N+1クエリのような、コンテキストに依存しないバッドプラクティスもレビュー対象から外れつつあります。

### なぜ見なくてよくなったのか？

理由はシンプルで、**人間が直接探すより、AIに探させる方が効率的だから**です。

もちろん、コードを書くAIが完璧なわけではありません。例えば、N+1クエリのようなパフォーマンス上の問題をうっかり書いてしまうこともあります。しかし、重要なのは、**そうした問題を発見するタスクも別のAIにレビューさせれば、高い精度で検出できる**という点です。

人間の役割は、「自らバグを探し出す」ことから、「**AIに何を探させるべきかを知り、指示を出す**」ことへと変化しています。アルゴリズムの良し悪しを知識として知っておく必要はありますが、それを躍起になって注意深く探す必要性は相対的に下がっているのです。

これにより、レビュワーは実装の細部から解放され、より本質的な議論に集中できるのです。

## レビューの新しい焦点：設計の妥当性

AIに実装の細部を任せることで、レビュワーが本当に集中すべきなのは**「設計の妥当性」**です。

AIはコードベース全体を読み込めますが、そのコードが**なぜそのように書かれているのか**という、事業の歴史的経緯や将来の見通しまでは理解できません。ドキュメントを読ませても、その背後にあるビジネス上の価値判断やトレードオフのニュアンスを汲み取るのは困難です。

ここに、人間であるレビュワーの最も重要な役割があります。それは、**ビジネスの状況をどう価値づけし、今後の変化にどう備えるかという観点から、設計を判断すること**です。この話は、以前モジュラーモノリスへの移行を判断した記事「[なぜ今、モジュラーモノリスという意思決定をしたのか](https://zenn.dev/pivotmedia/articles/modular-monolith-architecture-decision)」で触れた、ドメイン設計の重要性にも繋がります。

この人間による価値判断の結果が、**守るべきアーキテクチャ方針**となります。そして、AI時代のレビューで最も重要なのは、その方針がぶれていないかを確認することです。

レビュワーは、以下のような問いを持つべきです。
- **ドメイン設計との一貫性**: このコードは、我々が定義したドメインの境界を壊していないか？
- **アーキテクチャ方針との整合性**: この実装は、私たちが定めた原則から逸脱していないか？将来の変更を困難にしないか？
- **ビジネス価値との整合性**: そして最も重要なのが、ビジネス価値との整合性です。これは単に「今」の価値だけを問うものではありません。その機能は今後積極的に拡張していく意図があるのか、それとも最低限の運用ができれば良いのか。それによって、求められる設計の温度感は大きく異なります。

    例えば、事業の根幹をなすコアドメインであれば、将来の変更を見越した拡張性の高い設計が必要です。一方で、補助的な機能であれば、シンプルで割り切った実装が正解かもしれません。

    レビュワーには、こうした**現時点での役割（スナップショット）**と、**時間軸の中での変化予測（タイムライン）**を考慮し、実装の価値づけを行う役割が求められます。

### レビューコメントの質の変化：Before/After

この変化は、レビューコメントの質にも現れます。

#### Before：細部を指摘するレビュー

```diff
- LGTMですが、`getUser`のtypoがあります。`gteUser`になっています。
- あと、ここのループは`map`より`forEach`の方が適切かもしれません。
```

このようなコメントは、かつては価値がありましたが、今ではAIが自動で修正してくれます。

#### After：設計の意-図を問うレビュー

```text
この新しい`UserService`ですが、既存の`AccountService`との責務の違いが少し気になりました。
ユーザー情報取得のロジックが両方に存在しているように見えますが、今後の拡張を考えると、どちらかに集約した方が良いかもしれません。
この設計にした意図や背景を教えてもらえますか？
```

このように、**コードの背後にある設計思想や、将来的な影響**について議論することが、AI時代のレビューの中心的な価値となります。

## 新しいレビューがもたらすメリット

このようなレビューへのシフトは、チームにいくつかの明確なメリットをもたらします。

1.  **開発サイクルの高速化**:
    細かな修正のやり取りが減るため、PRがマージされるまでの時間が短縮されます。

2.  **設計品質の向上**:
    レビューが設計に関する議論に集中することで、場当たり的な実装が減り、より一貫性のある堅牢なシステムが育ちます。

3.  **チームの知識共有と成長**:
    設計の意図を言語化し、議論する文化は、チーム全体の設計能力を底上げします。若手メンバーにとっては、シニアエンジニアの思考プロセスを学ぶ絶好の機会となります。

## まとめ

本記事で解説した、AI時代のコードレビューに関する私の現在の考えをまとめます。

- **AIに任せようと考えていること**: タイポ、スタイル、典型的なパフォーマンス問題など、実装の細部のチェック。
- **自分が集中しようと考えていること**: ドメイン設計との一貫性、インターフェースの適切性といった**設計の妥当性**の確認。
- **レビューに感じている新しい価値**: 設計の意図を問い、議論することで、自分やチームの設計品質・知識レベルを高めていくこと。

AIは強力なパートナーだと感じていますが、最終的な設計責任は人間にあるという考えは変わっていません。私にとってのAIとの協調とは、自分が「設計の妥当性」といった本質的な判断に集中し、AIにそれ以外の作業を任せるという役割分担を試すことです。

現時点では、この進め方が自分たちの開発を前に進める鍵になるのではないかと考えています。

## おわりに

今回は、AI時代のコードレビューについて、私の個人的な所感をまとめてみました。

これが唯一の正解だとは考えていません。他のチームではどのようにレビューの役割が変わったのか、あるいは変わっていないのか、ぜひ皆さんの所感も聞いてみたいです。

私自身も、これからも色々探りながら、開発プロセスのアップデートを続けていきたいと思っています。
